'use strict';

require('reflect-metadata');
var Dt = require('typedi');
var nodeFetch = require('node-fetch');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var Dt__default = /*#__PURE__*/_interopDefault(Dt);

var J=Object.defineProperty,et=Object.defineProperties,ot=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var j=(n,o,t)=>o in n?J(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t,p=(n,o)=>{for(var t in o||(o={}))st.call(o,t)&&j(n,t,o[t]);if($)for(var t of $(o))nt.call(o,t)&&j(n,t,o[t]);return n},T=(n,o)=>et(n,rt(o));var d=(n,o,t,r)=>{for(var e=r>1?void 0:r?ot(o,t):o,c=n.length-1,u;c>=0;c--)(u=n[c])&&(e=(r?u(o,t,e):u(e))||e);return r&&e&&J(o,t,e),e};var s=(n,o,t)=>new Promise((r,e)=>{var c=f=>{try{V(t.next(f));}catch(C){e(C);}},u=f=>{try{V(t.throw(f));}catch(C){e(C);}},V=f=>f.done?r(f.value):Promise.resolve(f.value).then(c,u);V((t=t.apply(n,o)).next());});var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a={API_VERSION:"/v1",LOGIN:"/auth/login",REGISTER:"/auth/create-account",ACCOUNT_VERIFY:"/auth/account/verify",RESEND_VERIFY_LINK:"/auth/verify/resend",VALIDATE_PASSWORD_TOKEN:"/auth/validate/password",RESET_PASSWORD:"/auth/password/reset",CHANGE_PASSWORD:"/auth/password/change",VALIDATE_REFERRAL:"/auth/referral/validate/",COLLECTION:"/collection",COLLECTION_TYPE:"/collection-type",COLLECTION_MANY:"/collection/many",COLLECTION_UPDATE:"/collection",BOOKMARK:"/bookmark",NOTIFICATION_FETCH:"/notifications/",NOTIFICATION_MARK_ALL:"/notifications/mark/all",NOTIFICATION_MARK_ONE:"/notifications/mark",ACCOUNT:"/account",ACCOUNT_ONBOARD:"/account/onboard",ACCOUNT_UPDATE:"/account/update",ACCOUNT_PASSWORD:"/account/password/change",ACCOUNT_TWO_INIT:"/account/initiate/2fa",ACCOUNT_TWO_ACTIVATE:"/account/activate/2fa",ACCOUNT_TWO_DEACTIVATE:"/account/deactivate/2fa",ACCOUNT_FETCH_ALL:"/account/user",ACCOUNT_FETCH_SINGLE:"/account/user/",ACCOUNT_LOGOUT:"/account/logout",ACCOUNT_SEND_EMAIL_TWO_FA:"/account/2fa/email",TRANSACTIONS:"/transaction/",A_TRANSACTION:"/transaction",TRANSACTION_STATS:"/transaction/stats",TRANSACTION_AGGREGATE_STATS:"/transaction/aggregate/stats",TRANSACTION_EXCHANGE:"/transaction/exchange",WALLETS:"/wallet",SINGLE_WALLET:"/wallet/coin",FILE_UPLOAD:"/upload/",ADD_REVIEW:"/reviews/",GET_REVIEW:"/reviews/",CREATE_WITHDRAWAL:"/withdrawals/",FETCH_WITHDRAWALS:"/withdrawals/",CREATE_SESSION:"/user-verification/veriff/session/new",SEND_SESSION_MEDIA:"/user-verification/veriff/session/media",SESSION_ATTEMPTS:"/user-verification/veriff/session/attempts",USER_VERIFICATION:"/user-verification/user",DELETE_SESSION:"/user-verification/veriff/session/delete",GET_USER_MESSAGES:"/chat/",CREATE_CONNECTION_FILTER:"/conn-filter/",GET_CONNECTION_FILTER:"/conn-filter/user",UPDATE_CONNECTION_FILTER:"/conn-filter/",SEND_INVITE:"/invite/",ACCEPT_INVITE:"/invite",DECLINE_INVITE:"/invite",VIEW_ALL_INVITE:"/invite/",VIEW_A_INVITE:"/invite/",CANCEL_AN_INVITE:"/invite/",FEEDS:"/feeds",FEEDS_DISMISS_ONE:"/dismiss",FEEDS_DISMISS_ALL:"/feeds/dismiss/all",CREATE_ORDER:"/payment/",VALIDATE_ORDER:"/payment/validate",RELEASE_ORDER:"/payment/release",PAYMENT_METHODS:"/payment/coins",RPC:"/payment/rpc"};var x=new Dt.Token("PAKT_CONFIG"),G=new Dt.Token("AUTH_TOKEN"),M=new Dt.Token("TEMP_TOKEN"),jt=n=>n==null||typeof n=="object"&&Object.keys(n).length===0||typeof n=="string"&&n===""&&n.trim().length===0||n==="undefined"||n==="null";var Y="0.1.41";var D=(t=>(t.SUCCESS="success",t.ERROR="error",t))(D||{}),i={tryFail:n=>s(void 0,null,function*(){try{return {data:yield n(),status:"success"}}catch(o){let t=i.toErrorWithMessage(o);return {data:null,status:"error",message:t?t.message:["Internal Server Error"],code:t.code}}}),newTryFail:n=>s(void 0,null,function*(){try{let o=yield n();return p({},o)}catch(o){let t=i.toErrorWithMessage(o);return {data:null,status:"error",message:t?t.message:["Internal Server Error"],code:t.code}}}),formatErrorMsg:n=>n.replace("attr.",""),toErrorWithMessage:n=>{var o;if(typeof n=="string")try{let t=JSON.parse(n);return t.data instanceof Array&&t.data.length>0?{message:t.data.map(r=>i.formatErrorMsg(r)),code:t.errorCode}:{message:[(o=t.message)!=null?o:n],code:t.errorCode}}catch(t){}if(i.isErrorWithMessage(n))return {message:[n.message]};try{return {message:[JSON.stringify(n,null,2)]}}catch(t){return {message:[String(n)]}}},isErrorWithMessage(n){return typeof n=="object"&&n!==null&&"message"in n&&typeof n.message=="string"}},m=(n,o)=>{let t="?",r=Object.keys(o||{});return r.length===0?n:(r.map((e,c)=>{let u="&";(e===void 0||e==="undefined"||e===null||e==="null"||e.length===0)&&(t=t),c+1===r.length&&(u=""),t=t+`${e}=${o[e]}${u}`;}),n+t)};var pt=(n,o)=>import('node-fetch').then(({default:t})=>t(n,o)),l=class{constructor(o){this.id=o;}get(o){return s(this,null,function*(){return this.request(T(p({},o),{method:"GET"}))})}post(o){return s(this,null,function*(){return this.request(T(p({},o),{method:"POST"}))})}patch(o){return s(this,null,function*(){return this.request(T(p({},o),{method:"PATCH"}))})}put(o){return s(this,null,function*(){return this.request(T(p({},o),{method:"PUT"}))})}delete(o){return s(this,null,function*(){return this.request(T(p({},o),{method:"DELETE"}))})}request(f){return s(this,arguments,function*({path:o,params:t,body:r,method:e,authToken:c},u=0,V){let{verbose:C}=Dt.Container.of(this.id).get(x),K=V||this.getUrl({path:o,params:t}),Q=yield this.headers(u,c),Z=r?{body:JSON.stringify(r)}:{},g=p({headers:Q,method:e},Z),X=Date.now();C&&console.debug(new Date().toISOString(),"SDK Request: ",g.method,K,g.body);try{return yield pt(K,g).then(y=>s(this,null,function*(){let z=Date.now()-X;C&&console.log(new Date().toISOString(),`SDK Response received in ${z}ms: `,y.status,yield y.clone().text());let tt=yield y.json();return T(p({},tt),{code:y.status})}))}catch(y){return C&&console.warn(new Date().toISOString(),"Error: ",y),Promise.reject(y)}})}getUrl({path:o,params:t}){let r=Dt.Container.of(this.id).get(x),e=a.API_VERSION+o,c=new URL(e||"",r.baseUrl);return console.log(e,c),t&&Object.keys(t).filter(u=>!!t[u]).forEach(u=>c.searchParams.append(u,`${t[u]}`)),r.testnet&&c.searchParams.append("type","testnet"),c.toString()}headers(o,t){return s(this,null,function*(){let r={},e=Dt.Container.of(this.id).get(x);t&&(r={Authorization:`Bearer ${t}`});let c=new nodeFetch.Headers(p({"Content-Type":"application/json","x-pkt-sdk-version":Y,"x-pkt-sdk-product":"JS","x-pkt-testnet":`${e.testnet}`,"x-pkt-sdk-retry":`${o}`},r));return e.token&&c.append("x-api-key",e.token),c})}};l=d([Dt.Service({factory:n=>new l(n.id),transient:!0})],l);exports.AccountModule=class E{constructor(o){this.id=o,this.connector=Dt.Container.of(this.id).get(l);}getUser(o){return s(this,null,function*(){return i.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:a.ACCOUNT,authToken:o});if(Number(t.statusCode||t.code)>226||t.status==="error")throw new Error(t.message);return t.data}))})}onboardEndpoint(o,t,r,e){return s(this,null,function*(){return i.tryFail(()=>s(this,null,function*(){let c={skillCategory:o,profileImage:t,type:r},u=yield this.connector.post({path:a.ACCOUNT_ONBOARD,body:c,authToken:e});if(Number(u.statusCode||u.code)>226||u.status==="error")throw new Error(u.message);return u.data}))})}updateAccount(o,t){return s(this,null,function*(){return i.tryFail(()=>s(this,null,function*(){p({},o);let e=yield this.connector.patch({path:a.ACCOUNT_UPDATE,body:o,authToken:t});if(Number(e.statusCode||e.code)>226||e.status==="error")throw new Error(e.message);return e.data}))})}changePassword(o,t,r){return s(this,null,function*(){return i.tryFail(()=>s(this,null,function*(){let e={oldPassword:o,newPassword:t},c=yield this.connector.put({path:a.ACCOUNT_PASSWORD,body:e,authToken:r});if(Number(c.statusCode||c.code)>226||c.status==="error")throw new Error(c.message);return c.data}))})}initate2FA(o,t){return s(this,null,function*(){return i.tryFail(()=>s(this,null,function*(){let r={type:o},e=yield this.connector.post({path:a.ACCOUNT_PASSWORD,body:r,authToken:t});if(Number(e.statusCode||e.code)>226||e.status==="error")throw new Error(e.message);return e.data}))})}activate2FA(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r={code:o},e=yield this.connector.post({path:a.ACCOUNT_TWO_ACTIVATE,body:r,authToken:t});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}deactivate2FA(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r={code:o},e=yield this.connector.post({path:a.ACCOUNT_TWO_DEACTIVATE,body:r,authToken:t});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}sendEmailTwoFA(o){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.post({path:a.ACCOUNT_SEND_EMAIL_TWO_FA,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))})}getAUser(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${a.ACCOUNT_FETCH_SINGLE}${o}`,authToken:t});return Number(r.statusCode||r.code)>226||r.status==="error",r}))})}getUsers(o,t){return s(this,null,function*(){if(t){let r=m(a.ACCOUNT_FETCH_ALL,p({},t));return i.newTryFail(()=>s(this,null,function*(){let e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:a.ACCOUNT_FETCH_ALL});return Number(r.statusCode||r.code)>226||r.status==="error",r}))})}logout(o){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){return yield this.connector.post({path:a.ACCOUNT_LOGOUT,authToken:o})}))})}};exports.AccountModule=d([Dt.Service({factory:n=>new exports.AccountModule(n.id),transient:!0})],exports.AccountModule);exports.AuthenticationModule=class h{constructor(o){this.id=o,this.connector=Dt.Container.of(this.id).get(l);}login(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r={email:o,password:t},e=yield this.connector.post({path:a.LOGIN,body:r});return Number(e.statusCode||e.code)>226||e.status==="error"||(e.data.tempToken?Dt.Container.of(this.id).set(M,e.data.tempToken.token):Dt.Container.of(this.id).set(G,e.data.token)),e}))})}register(o){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let t=p({},o),r=yield this.connector.post({path:a.REGISTER,body:t});return Number(r.statusCode||r.code)>226||r.status==="error"||r.data.tempToken.token&&Dt.Container.of(this.id).set(M,r.data.tempToken.token),r}))})}verifyAccount(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r={tempToken:o,token:t},e=yield this.connector.post({path:a.ACCOUNT_VERIFY,body:r});return Number(e.statusCode||e.code)>226||e.status==="error"||Dt.Container.of(this.id).set(G,e.data.token),e}))})}resendVerifyLink(o){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let t={email:o},r=yield this.connector.post({path:a.RESEND_VERIFY_LINK,body:t});return Number(r.statusCode||r.code)>226||r.status==="error"||r.data.tempToken&&Dt.Container.of(this.id).set(M,r.data.tempToken.token),r}))})}resetPassword(o){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let t={email:o},r=yield this.connector.post({path:a.RESET_PASSWORD,body:t});return Number(r.statusCode||r.code)>226||r.status==="error",r}))})}changePassword(o,t,r){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let e={token:o,tempToken:t,password:r},c=yield this.connector.post({path:a.CHANGE_PASSWORD,body:e});return Number(c.statusCode||c.code)>226||c.status==="error",c}))})}validatePasswordToken(o,t){return i.newTryFail(()=>s(this,null,function*(){let r={token:o,tempToken:t},e=yield this.connector.post({path:`${a.VALIDATE_PASSWORD_TOKEN}/${o}`,body:r});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}validateReferral(o){return i.newTryFail(()=>s(this,null,function*(){let t={token:o},r=yield this.connector.post({path:`${a.VALIDATE_REFERRAL}`,body:t});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}};exports.AuthenticationModule=d([Dt.Service({factory:n=>new exports.AuthenticationModule(n.id),transient:!0})],exports.AuthenticationModule);var mt=(e=>(e.FEED="feed",e.COLLECTION="collection",e.INVITE="invite",e.USER="user",e))(mt||{});exports.BookMarkModule=class I{constructor(o){this.id=o,this.connector=Dt.Container.of(this.id).get(l);}getAll(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=m(a.BOOKMARK,t),e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}getById(o,t,r){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let e=m(a.BOOKMARK+"/"+t,r),c=yield this.connector.get({path:e,authToken:o});return Number(c.statusCode||c.code)>226||c.status==="error",c}))})}create(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.post({path:a.BOOKMARK,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}delete(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.delete({path:a.BOOKMARK+"/"+t,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))})}};exports.BookMarkModule=d([Dt.Service({factory:n=>new exports.BookMarkModule(n.id),transient:!0})],exports.BookMarkModule);exports.ChatModule=class A{constructor(o){this.id=o,this.connector=Dt__default.default.of(this.id).get(l);}getUserMessages(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:a.GET_USER_MESSAGES,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}};exports.ChatModule=d([Dt.Service({factory:n=>new exports.ChatModule(n.id),transient:!0})],exports.ChatModule);exports.CollectionModule=class O{constructor(o){this.id=o,this.connector=Dt.Container.of(this.id).get(l);}getAll(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=m(`${a.COLLECTION}`,t),e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}getById(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=a.COLLECTION+"/"+t,e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}getTypes(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=m(a.COLLECTION_TYPE,t),e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}create(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.post({path:a.COLLECTION,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}createMany(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.post({path:a.COLLECTION,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}updateCollection(o,t,r){return i.newTryFail(()=>s(this,null,function*(){let e=`${a.COLLECTION_UPDATE}/${t}`,c=p({},r),u=yield this.connector.patch({path:e,body:c,authToken:o});return Number(u.statusCode||u.code)>226||u.status==="error",u}))}getACollectionType(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=m(`${a.COLLECTION_TYPE}/${t}`,{id:t}),e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}deleteACollection(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.delete({path:`${a.COLLECTION}/${t}`,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}updateManyCollections(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.patch({path:`${a.COLLECTION}/many/update`,body:{collections:t},authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}};exports.CollectionModule=d([Dt.Service({factory:n=>new exports.CollectionModule(n.id),transient:!0})],exports.CollectionModule);exports.ConnectionFilterModule=class N{constructor(o){this.id=o,this.connector=Dt__default.default.of(this.id).get(l);}create(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.post({path:a.CREATE_CONNECTION_FILTER,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}update(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.patch({path:a.UPDATE_CONNECTION_FILTER,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}getForAUser(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:a.GET_CONNECTION_FILTER,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}};exports.ConnectionFilterModule=d([Dt.Service({factory:n=>new exports.ConnectionFilterModule(n.id),transient:!0})],exports.ConnectionFilterModule);var ht=(g=>(g.COLLECTION_INVITE="collection_invite",g.COLLECTION_INVITE_REJECTED="collection_invite_rejected",g.COLLECTION_INVITE_ACCEPTED="collection_invite_accepted",g.COLLECTION_INVITE_CANCELLED="collection_invite_cancelled",g.COLLECTION_CREATED="collection_created",g.COLLECTION_UPDATE="collection_update",g.COLLECTION_DELIVERED="collection_delivered",g.COLLECTION_CANCELLED="collection_cancelled",g.COLLECTION_COMPLETED="collection_completed",g.COLLECTION_REVIEWED="collection_reviewed",g.PAYMENT_RELEASED="payment_released",g.REFERRAL_SIGNUP="referral_signup",g.REFERRAL_COLLECTION_COMPLETION="referral_job_completion",g))(ht||{});exports.FeedModule=class w{constructor(o){this.id=o,this.connector=Dt.Container.of(this.id).get(l);}create(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.post({path:`${a.FEEDS}/`,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}getAll(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=t?T(p({},t),{isOwner:!0}):{isOwner:!0},e=m(`${a.FEEDS}/`,p({},r)),c=yield this.connector.get({path:e,authToken:o});return Number(c.statusCode||c.code)>226||c.status==="error",c}))}getById(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${a.FEEDS}/${t}`,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}dismissAllFeeds(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.put({path:`${a.FEEDS_DISMISS_ALL}`,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}dismissAFeed(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.put({path:`${a.FEEDS}/${t}/dismiss`,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}};exports.FeedModule=d([Dt.Service({factory:n=>new exports.FeedModule(n.id),transient:!0})],exports.FeedModule);exports.InviteModule=class P{constructor(o){this.id=o,this.connector=Dt__default.default.of(this.id).get(l);}sendInvite(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=`${a.SEND_INVITE}`,e=p({},t),c=yield this.connector.post({path:r,body:e,authToken:o});return Number(c.statusCode||c.code)>226||c.status==="error",c}))}acceptInvite(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=`${a.ACCEPT_INVITE}/${t}/accept`,e=yield this.connector.post({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}declineInvite(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=`${a.DECLINE_INVITE}/${t}/decline`,e=yield this.connector.post({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}getAll(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=m(a.VIEW_ALL_INVITE,t),e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}getAnInvite(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=`${a.VIEW_A_INVITE}/${t}`,e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}cancelInvite(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=`${a.CANCEL_AN_INVITE}/${t}/cancel`,e=yield this.connector.post({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}};exports.InviteModule=d([Dt.Service({factory:n=>new exports.InviteModule(n.id),transient:!0})],exports.InviteModule);exports.NotificationModule=class S{constructor(o){this.id=o,this.connector=Dt.Container.of(this.id).get(l);}getAll(o,t){return s(this,null,function*(){let r=m(a.NOTIFICATION_FETCH,t);return i.newTryFail(()=>s(this,null,function*(){let e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))})}markAll(o){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.post({path:a.NOTIFICATION_MARK_ALL,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))})}markOneAsRead(o,t){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.post({path:a.NOTIFICATION_MARK_ONE+"/"+t,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))})}};exports.NotificationModule=d([Dt.Service({factory:n=>new exports.NotificationModule(n.id),transient:!0})],exports.NotificationModule);var St=(u=>(u.PENDING="pending",u.ONGOING="ongoing",u.COMPLETED="completed",u.WAITING="waiting",u.CANCELLED="cancelled",u.DELETED="deleted",u))(St||{});exports.PaymentModule=class F{constructor(o){this.id=o,this.connector=Dt.Container.of(this.id).get(l);}create(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.post({path:`${a.CREATE_ORDER}`,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}validate(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.post({path:`${a.VALIDATE_ORDER}`,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}release(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t),e=yield this.connector.post({path:`${a.RELEASE_ORDER}`,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}paymentMethods(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:`${a.PAYMENT_METHODS}`,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}activeRpc(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:`${a.RPC}`,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}};exports.PaymentModule=d([Dt.Service({factory:n=>new exports.PaymentModule(n.id),transient:!0})],exports.PaymentModule);exports.ReviewModule=class _{constructor(o){this.id=o,this.connector=Dt__default.default.of(this.id).get(l);}viewAll(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=m(a.GET_REVIEW,t),e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}viewAReview(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${a.GET_REVIEW}${t}`,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}addReview(o,t){let r=p({},t);return i.newTryFail(()=>s(this,null,function*(){let e=yield this.connector.post({path:a.ADD_REVIEW,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}};exports.ReviewModule=d([Dt.Service({factory:n=>new exports.ReviewModule(n.id),transient:!0})],exports.ReviewModule);exports.UploadModule=class b{constructor(o){this.id=o,this.connector=Dt__default.default.of(this.id).get(l);}fileUpload(o,t){let r=p({},t);return i.newTryFail(()=>s(this,null,function*(){let e=yield this.connector.post({path:a.FILE_UPLOAD,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}getFileUploads(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=t||{},e=m(a.FILE_UPLOAD,r),c=t?a.FILE_UPLOAD:e,u=yield this.connector.get({path:c,authToken:o});return Number(u.statusCode||u.code)>226||u.status==="error",u}))}getAFileUpload(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${a.FILE_UPLOAD}${t}`,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}};exports.UploadModule=d([Dt.Service({factory:n=>new exports.UploadModule(n.id),transient:!0})],exports.UploadModule);exports.UserVerificationModule=class v{constructor(o){this.id=o,this.connector=Dt__default.default.of(this.id).get(l);}createSession(o,t){let r=p({},t);return i.newTryFail(()=>s(this,null,function*(){let e=yield this.connector.post({path:a.CREATE_SESSION,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}sendSessionMedia(o,t){let r=p({},t);return i.newTryFail(()=>s(this,null,function*(){let e=yield this.connector.post({path:a.SEND_SESSION_MEDIA,body:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}getSessionAttempts(o){let t=m(a.SESSION_ATTEMPTS,null);return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:t,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}getUserVerifications(o){let t=m(a.USER_VERIFICATION,null);return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:t,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}};exports.UserVerificationModule=d([Dt.Service({factory:n=>new exports.UserVerificationModule(n.id),transient:!0})],exports.UserVerificationModule);exports.WalletModule=class L{constructor(o,t){this.id=o,this.connector=Dt__default.default.of(this.id).get(l),this.coin=t;}getTransactions(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:a.TRANSACTIONS,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}getATransaction(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${a.A_TRANSACTION}/${t}`,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}getTransactionStats(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:a.TRANSACTION_STATS,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}getAggregateTransactionStats(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:a.TRANSACTION_AGGREGATE_STATS,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}getWallets(o){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:a.WALLETS,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))}getSingleWallet(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:a.SINGLE_WALLET+"/"+t,authToken:o});return Number(r.statusCode||r.code)>226||r.status==="error",r}))}getExchange(o){return s(this,null,function*(){return i.newTryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:a.TRANSACTION_EXCHANGE,authToken:o});return Number(t.statusCode||t.code)>226||t.status==="error",t}))})}};exports.WalletModule=d([Dt.Service({factory:n=>new exports.WalletModule(n.id,n.coin)})],exports.WalletModule);exports.WithdrawalModule=class k{constructor(o){this.id=o,this.connector=Dt__default.default.of(this.id).get(l);}createWithdrawal(o,t){return i.newTryFail(()=>s(this,null,function*(){let r=p({},t);return yield this.connector.post({path:a.CREATE_WITHDRAWAL,body:r,authToken:o})}))}fetchWithdrawal(o,t){let r=m(a.FETCH_WITHDRAWALS,t);return i.newTryFail(()=>s(this,null,function*(){let e=yield this.connector.get({path:r,authToken:o});return Number(e.statusCode||e.code)>226||e.status==="error",e}))}};exports.WithdrawalModule=d([Dt.Service({factory:n=>new exports.WithdrawalModule(n.id)})],exports.WithdrawalModule);exports.PaktSDK=class U{constructor(o){this.auth=Dt.Container.of(o).get(exports.AuthenticationModule),this.collection=Dt.Container.of(o).get(exports.CollectionModule),this.account=Dt.Container.of(o).get(exports.AccountModule),this.notifications=Dt.Container.of(o).get(exports.NotificationModule),this.file=Dt.Container.of(o).get(exports.UploadModule),this.wallet=Dt.Container.of(o).get(exports.WalletModule),this.withdrawal=Dt.Container.of(o).get(exports.WithdrawalModule),this.review=Dt.Container.of(o).get(exports.ReviewModule),this.bookmark=Dt.Container.of(o).get(exports.BookMarkModule),this.userVerification=Dt.Container.of(o).get(exports.UserVerificationModule),this.chat=Dt.Container.of(o).get(exports.ChatModule),this.connectionFilter=Dt.Container.of(o).get(exports.ConnectionFilterModule),this.invite=Dt.Container.of(o).get(exports.InviteModule),this.feed=Dt.Container.of(o).get(exports.FeedModule),this.payment=Dt.Container.of(o).get(exports.PaymentModule);}static init(o){return s(this,null,function*(){let t=p({},o),r=exports.PaktSDK.generateRandomString();return Dt.Container.of(r).set(x,t),Dt.Container.of(r).set(G,""),Dt.Container.of(r).set(M,""),new exports.PaktSDK(r)})}static generateRandomString(){let o=q,t="";for(let r=0;r<60;r++)t+=o.charAt(Math.floor(Math.random()*o.length));return t}};exports.PaktSDK=d([Dt.Service({transient:!0})],exports.PaktSDK);

exports.API_PATHS = a;
exports.AUTH_TOKEN = G;
exports.BookmarkEnumType = mt;
exports.CHARACTERS = q;
exports.ErrorUtils = i;
exports.FEED_TYPES_ENUM = ht;
exports.IPaymentStatusEnum = St;
exports.PAKT_CONFIG = x;
exports.Status = D;
exports.TEMP_TOKEN = M;
exports.isEmpty = jt;
exports.parseUrlWithQuery = m;
