'use strict';

require('reflect-metadata');
var ut = require('typedi');
var nodeFetch = require('node-fetch');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var ut__default = /*#__PURE__*/_interopDefault(ut);

var $=Object.defineProperty,Z=Object.defineProperties,X=Object.getOwnPropertyDescriptor,z=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var H=(a,t,o)=>t in a?$(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,p=(a,t)=>{for(var o in t||(t={}))tt.call(t,o)&&H(a,o,t[o]);if(K)for(var o of K(t))et.call(t,o)&&H(a,o,t[o]);return a},g=(a,t)=>Z(a,z(t));var u=(a,t,o,e)=>{for(var i=e>1?void 0:e?X(t,o):t,c=a.length-1,E;c>=0;c--)(E=a[c])&&(i=(e?E(t,o,i):E(i))||i);return e&&i&&$(t,o,i),i};var r=(a,t,o)=>new Promise((e,i)=>{var c=D=>{try{G(o.next(D));}catch(b){i(b);}},E=D=>{try{G(o.throw(D));}catch(b){i(b);}},G=D=>D.done?e(D.value):Promise.resolve(D.value).then(c,E);G((o=o.apply(a,t)).next());});var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s={API_VERSION:"/v1",LOGIN:"/auth/login",REGISTER:"/auth/create-account",ACCOUNT_VERIFY:"/auth/account/verify",RESEND_VERIFY_LINK:"/auth/verify/resend",VALIDATE_PASSWORD_TOKEN:"/auth/validate/password",RESET_PASSWORD:"/auth/password/reset",CHANGE_PASSWORD:"/auth/password/change",VALIDATE_REFERRAL:"/auth/referral/validate/",COLLECTION:"/collection",COLLECTION_TYPE:"/collection-type",COLLECTION_MANY:"/collection/many",COLLECTION_UPDATE:"/collection",BOOKMARK:"/bookmark",NOTIFICATION_FETCH:"/notifications/",NOTIFICATION_MARK_ALL:"/notifications/mark/all",NOTIFICATION_MARK_ONE:"/notifications/mark",ACCOUNT:"/account",ACCOUNT_ONBOARD:"/account/onboard",ACCOUNT_UPDATE:"/account/update",ACCOUNT_PASSWORD:"/account/password/change",ACCOUNT_TWO_INIT:"/account/initiate/2fa",ACCOUNT_TWO_ACTIVATE:"/account/activate/2fa",ACCOUNT_TWO_DEACTIVATE:"/account/deactivate/2fa",ACCOUNT_FETCH_ALL:"/account/user",ACCOUNT_FETCH_SINGLE:"/account/user/",ACCOUNT_LOGOUT:"/account/logout",ACCOUNT_SEND_EMAIL_TWO_FA:"/account/2fa/email",WALLET_TRANSACTIONS:"/transaction/",A_WALLET_TRANSACTION:"/transaction",WALLET_EXCHANGE:"/wallet/exchange",WALLET_DATA:"/wallet/data",WALLET_STATS:"/wallet/stats",WALLET_AGGREGATE_STATS:"/wallet/aggregate/stats",WALLETS:"/wallet",SINGLE_WALLET:"/wallet/coin",FILE_UPLOAD:"/upload/",ADD_REVIEW:"/reviews/",GET_REVIEW:"/reviews/",CREATE_WITHDRAWAL:"/withdrawals/",FETCH_WITHDRAWALS:"/withdrawals/",CREATE_SESSION:"/user-verification/veriff/session/new",SEND_SESSION_MEDIA:"/user-verification/veriff/session/media",SESSION_ATTEMPTS:"/user-verification/veriff/session/attempts",USER_VERIFICATION:"/user-verification/user",DELETE_SESSION:"/user-verification/veriff/session/delete",GET_USER_MESSAGES:"/chat/",CREATE_CONNECTION_FILTER:"/conn-filter/",GET_CONNECTION_FILTER:"/conn-filter/user",UPDATE_CONNECTION_FILTER:"/conn-filter/",SEND_INVITE:"/invite/",ACCEPT_INVITE:"/invite",DECLINE_INVITE:"/invite",VIEW_ALL_INVITE:"/invite/",VIEW_A_INVITE:"/invite/",CANCEL_AN_INVITE:"/invite/",FEEDS:"/feeds",FEEDS_DISMISS_ONE:"/dismiss",FEEDS_DISMISS_ALL:"/feeds/dismiss/all"};var W=new ut.Token("PAKT_CONFIG"),f=new ut.Token("AUTH_TOKEN"),k=new ut.Token("TEMP_TOKEN");var q="0.1.30";var R=(o=>(o.SUCCESS="SUCCESS",o.ERROR="ERROR",o))(R||{}),n={tryFail:a=>r(void 0,null,function*(){try{return {data:yield a(),status:"SUCCESS"}}catch(t){let o=n.toErrorWithMessage(t);return {data:null,status:"ERROR",message:o?o.message:["Internal Server Error"],code:o.code}}}),formatErrorMsg:a=>a.replace("attr.",""),toErrorWithMessage:a=>{var t;if(typeof a=="string")try{let o=JSON.parse(a);return o.data instanceof Array&&o.data.length>0?{message:o.data.map(e=>n.formatErrorMsg(e)),code:o.errorCode}:{message:[(t=o.message)!=null?t:a],code:o.errorCode}}catch(o){}if(n.isErrorWithMessage(a))return {message:[a.message]};try{return {message:[JSON.stringify(a,null,2)]}}catch(o){return {message:[String(a)]}}},isErrorWithMessage(a){return typeof a=="object"&&a!==null&&"message"in a&&typeof a.message=="string"}},l=(a,t)=>{let o="?";return Object.keys(t).map(e=>{o=o+`${e}=${t[e]}&`;}),a+o};var nt=(a,t)=>import('node-fetch').then(({default:o})=>o(a,t)),d=class{constructor(t){this.id=t;}get(t){return r(this,null,function*(){return this.request(g(p({},t),{method:"GET"}))})}post(t){return r(this,null,function*(){return this.request(g(p({},t),{method:"POST"}))})}patch(t){return r(this,null,function*(){return this.request(g(p({},t),{method:"PATCH"}))})}put(t){return r(this,null,function*(){return this.request(g(p({},t),{method:"PUT"}))})}delete(t){return r(this,null,function*(){return this.request(g(p({},t),{method:"DELETE"}))})}request(G){return r(this,arguments,function*({path:t,params:o,body:e,method:i},c=0,E){let{verbose:D}=ut.Container.of(this.id).get(W),b=E||this.getUrl({path:t,params:o}),V={headers:yield this.headers(c),method:i,body:e?JSON.stringify(e):void 0},j=Date.now();D&&console.debug(new Date().toISOString(),"SDK Request: ",V.method,b,V.body);try{return yield nt(b,V).then(h=>r(this,null,function*(){let Y=Date.now()-j;D&&console.log(new Date().toISOString(),`SDK Response received in ${Y}ms: `,h.status,yield h.clone().text());let Q=yield h.json();return g(p({},Q),{code:h.status})}))}catch(h){return D&&console.warn(new Date().toISOString(),"Error: ",h),Promise.reject(h)}})}getUrl({path:t,params:o}){let e=ut.Container.of(this.id).get(W),i=s.API_VERSION+t,c=new URL(i||"",e.baseUrl);return console.log(i,c),o&&Object.keys(o).filter(E=>!!o[E]).forEach(E=>c.searchParams.append(E,`${o[E]}`)),e.testnet&&c.searchParams.append("type","testnet"),c.toString()}headers(t){return r(this,null,function*(){let o={},e=ut.Container.of(this.id).get(W),i=ut.Container.of(this.id).get(f);i&&(o={Authorization:`Bearer ${i}`});let c=new nodeFetch.Headers(p({"Content-Type":"application/json","x-pkt-sdk-version":q,"x-pkt-sdk-product":"JS","x-pkt-testnet":`${e.testnet}`,"x-pkt-sdk-retry":`${t}`},o));return e.token&&c.append("x-api-key",e.token),c})}};d=u([ut.Service({factory:a=>new d(a.id),transient:!0})],d);exports.AccountModule=class C{constructor(t){this.id=t,this.connector=ut.Container.of(this.id).get(d);}getUser(){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.ACCOUNT});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))})}onboardEndpoint(t,o,e){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let i={skillCategory:t,profileImage:o,type:e},c=yield this.connector.post({path:s.ACCOUNT_ONBOARD,body:i});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))})}updateAccount(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=p({},t),e=yield this.connector.patch({path:s.ACCOUNT_UPDATE,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}changePassword(t,o){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let e={oldPassword:t,newPassword:o},i=yield this.connector.put({path:s.ACCOUNT_PASSWORD,body:e});if(Number(i.statusCode||i.code)>226||i.status==="ERROR")throw new Error(i.message);return i.data}))})}initate2FA(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o={type:t},e=yield this.connector.post({path:s.ACCOUNT_PASSWORD,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}activate2FA(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o={code:t},e=yield this.connector.post({path:s.ACCOUNT_TWO_ACTIVATE,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}deactivate2FA(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o={code:t},e=yield this.connector.post({path:s.ACCOUNT_TWO_DEACTIVATE,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}sendEmailTwoFA(){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.post({path:s.ACCOUNT_SEND_EMAIL_TWO_FA});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))})}getAUser(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:`${s.ACCOUNT_FETCH_SINGLE}${t}`});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}getUsers(t){return r(this,null,function*(){if(t){let o=l(s.ACCOUNT_FETCH_ALL,p({},t));return console.log({query:o}),n.tryFail(()=>r(this,null,function*(){let e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:s.ACCOUNT_FETCH_ALL});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}logout(){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){return (yield this.connector.post({path:s.ACCOUNT_LOGOUT})).data}))})}};exports.AccountModule=u([ut.Service({factory:a=>new exports.AccountModule(a.id),transient:!0})],exports.AccountModule);exports.AuthenticationModule=class T{constructor(t){this.id=t,this.connector=ut.Container.of(this.id).get(d);}login(t,o){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let e={email:t,password:o},i=yield this.connector.post({path:s.LOGIN,body:e});if(Number(i.statusCode||i.code)>226||i.status==="ERROR")throw new Error(i.message);return i.data.tempToken?ut.Container.of(this.id).set(k,i.data.tempToken.token):ut.Container.of(this.id).set(f,i.data.token),i.data}))})}register(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=p({},t),e=yield this.connector.post({path:s.REGISTER,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data.tempToken.token&&ut.Container.of(this.id).set(k,e.data.tempToken.token),e.data}))})}verifyAccount(t,o){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let e={tempToken:t,token:o},i=yield this.connector.post({path:s.ACCOUNT_VERIFY,body:e});if(Number(i.statusCode||i.code)>226||i.status==="ERROR")throw new Error(i.message);return ut.Container.of(this.id).set(f,i.data.token),i.data}))})}resendVerifyLink(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o={email:t},e=yield this.connector.post({path:s.RESEND_VERIFY_LINK,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data.tempToken&&ut.Container.of(this.id).set(k,e.data.tempToken.token),e.data}))})}resetPassword(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o={email:t},e=yield this.connector.post({path:s.RESET_PASSWORD,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}changePassword(t,o,e){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let i={token:t,tempToken:o,password:e},c=yield this.connector.post({path:s.CHANGE_PASSWORD,body:i});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))})}validatePasswordToken(t,o){return n.tryFail(()=>r(this,null,function*(){let e={token:t,tempToken:o},i=yield this.connector.post({path:`${s.VALIDATE_PASSWORD_TOKEN}/${t}`,body:e});if(Number(i.statusCode||i.code)>226||i.status==="ERROR")throw new Error(i.message);return i.data}))}validateReferral(t){return n.tryFail(()=>r(this,null,function*(){let o={token:t},e=yield this.connector.post({path:`${s.VALIDATE_REFERRAL}`,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}};exports.AuthenticationModule=u([ut.Service({factory:a=>new exports.AuthenticationModule(a.id),transient:!0})],exports.AuthenticationModule);exports.BookMarkModule=class y{constructor(t){this.id=t,this.connector=ut.Container.of(this.id).get(d);}getAll(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=l(s.BOOKMARK,t);return (yield this.connector.get({path:o})).data}))})}getById(t,o){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let e=l(s.BOOKMARK+"/"+t,o);return (yield this.connector.get({path:e})).data}))})}create(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=p({},t);return (yield this.connector.post({path:s.BOOKMARK,body:o})).data}))})}delete(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){return (yield this.connector.delete({path:s.BOOKMARK+"/"+t})).data}))})}};exports.BookMarkModule=u([ut.Service({factory:a=>new exports.BookMarkModule(a.id),transient:!0})],exports.BookMarkModule);exports.ChatModule=class A{constructor(t){this.id=t,this.connector=ut__default.default.of(this.id).get(d);}getUserMessages(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.GET_USER_MESSAGES});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}};exports.ChatModule=u([ut.Service({factory:a=>new exports.ChatModule(a.id),transient:!0})],exports.ChatModule);exports.CollectionModule=class w{constructor(t){this.id=t,this.connector=ut.Container.of(this.id).get(d);}getAll(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=l(`${s.COLLECTION}/`,t),e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}getById(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=s.COLLECTION+"/"+t,e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}getTypes(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=l(s.COLLECTION_TYPE,t),e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}create(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=p({},t),e=yield this.connector.post({path:s.COLLECTION,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}createMany(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=p({},t),e=yield this.connector.post({path:s.COLLECTION,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}updateCollection(t,o){return n.tryFail(()=>r(this,null,function*(){let e=`${s.COLLECTION_UPDATE}/${t}`,i=p({},o),c=yield this.connector.patch({path:e,body:i});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))}getACollectionType(t){return n.tryFail(()=>r(this,null,function*(){let o=l(`${s.COLLECTION_TYPE}/${t}`,{id:t});console.log({fetchUrl:o});let e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}deleteACollection(t){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.delete({path:`${s.COLLECTION}/${t}`});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}updateManyCollections(t){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.patch({path:`${s.COLLECTION}/many/update`,body:{collections:t}});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}};exports.CollectionModule=u([ut.Service({factory:a=>new exports.CollectionModule(a.id),transient:!0})],exports.CollectionModule);exports.ConnectionFilterModule=class I{constructor(t){this.id=t,this.connector=ut__default.default.of(this.id).get(d);}create(t){return n.tryFail(()=>r(this,null,function*(){let o=p({},t),e=yield this.connector.post({path:s.CREATE_CONNECTION_FILTER,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}update(t){return n.tryFail(()=>r(this,null,function*(){let o=p({},t),e=yield this.connector.patch({path:s.UPDATE_CONNECTION_FILTER,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}getForAUser(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.GET_CONNECTION_FILTER});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}};exports.ConnectionFilterModule=u([ut.Service({factory:a=>new exports.ConnectionFilterModule(a.id),transient:!0})],exports.ConnectionFilterModule);exports.FeedModule=class O{constructor(t){this.id=t,this.connector=ut.Container.of(this.id).get(d);}create(t){return n.tryFail(()=>r(this,null,function*(){let o=p({},t),e=yield this.connector.post({path:`${s.FEEDS}/`,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}getAll(t){return n.tryFail(()=>r(this,null,function*(){let o=t?g(p({},t),{isOwner:!0}):{isOwner:!0},e=l(`${s.FEEDS}/`,p({},o)),i=yield this.connector.get({path:e});if(Number(i.statusCode||i.code)>226||i.status==="ERROR")throw new Error(i.message);return i.data}))}getById(t){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:`${s.FEEDS}/${t}`});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}dismissAllFeeds(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.put({path:`${s.FEEDS_DISMISS_ALL}`});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}dismissAFeed(t){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.put({path:`${s.FEEDS}/${t}/dismiss`});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}};exports.FeedModule=u([ut.Service({factory:a=>new exports.FeedModule(a.id),transient:!0})],exports.FeedModule);exports.InviteModule=class N{constructor(t){this.id=t,this.connector=ut__default.default.of(this.id).get(d);}sendInvite(t){return n.tryFail(()=>r(this,null,function*(){let o=`${s.SEND_INVITE}`,e=p({},t),i=yield this.connector.post({path:o,body:e});if(Number(i.statusCode||i.code)>226||i.status==="ERROR")throw new Error(i.message);return i.data}))}acceptInvite(t){return n.tryFail(()=>r(this,null,function*(){let o=`${s.ACCEPT_INVITE}/${t}/accept`,e=yield this.connector.post({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}declineInvite(t){return n.tryFail(()=>r(this,null,function*(){let o=`${s.DECLINE_INVITE}/${t}/decline`,e=yield this.connector.post({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}getAll(t){return n.tryFail(()=>r(this,null,function*(){let o=l(s.VIEW_ALL_INVITE,t),e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}getAnInvite(t){return n.tryFail(()=>r(this,null,function*(){let o=`${s.VIEW_A_INVITE}/${t}`,e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}cancelInvite(t){return n.tryFail(()=>r(this,null,function*(){let o=`${s.CANCEL_AN_INVITE}/${t}/cancel`,e=yield this.connector.post({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}};exports.InviteModule=u([ut.Service({factory:a=>new exports.InviteModule(a.id),transient:!0})],exports.InviteModule);exports.NotificationModule=class S{constructor(t){this.id=t,this.connector=ut.Container.of(this.id).get(d);}getAll(t){return r(this,null,function*(){let o=l(s.NOTIFICATION_FETCH,t);return n.tryFail(()=>r(this,null,function*(){let e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))})}markAll(){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.post({path:s.NOTIFICATION_MARK_ALL});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))})}markOneAsRead(t){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.post({path:s.NOTIFICATION_MARK_ONE+"/"+t});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}};exports.NotificationModule=u([ut.Service({factory:a=>new exports.NotificationModule(a.id),transient:!0})],exports.NotificationModule);exports.ReviewModule=class P{constructor(t){this.id=t,this.connector=ut__default.default.of(this.id).get(d);}viewAll(t){return n.tryFail(()=>r(this,null,function*(){let o=t||{},e=l(s.GET_REVIEW,o),i=t?s.GET_REVIEW:e,c=yield this.connector.get({path:i});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))}viewAReview(t){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:`${s.GET_REVIEW}${t}`});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}addReview(t){let o=p({},t);return n.tryFail(()=>r(this,null,function*(){let e=yield this.connector.post({path:s.ADD_REVIEW,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}};exports.ReviewModule=u([ut.Service({factory:a=>new exports.ReviewModule(a.id),transient:!0})],exports.ReviewModule);exports.UploadModule=class F{constructor(t){this.id=t,this.connector=ut__default.default.of(this.id).get(d);}fileUpload(t){let o=p({},t);return n.tryFail(()=>r(this,null,function*(){let e=yield this.connector.post({path:s.FILE_UPLOAD,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}getFileUploads(t){return n.tryFail(()=>r(this,null,function*(){let o=t||{},e=l(s.FILE_UPLOAD,o),i=t?s.GET_REVIEW:e,c=yield this.connector.get({path:i});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))}getAFileUpload(t){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:`${s.FILE_UPLOAD}${t}`});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}};exports.UploadModule=u([ut.Service({factory:a=>new exports.UploadModule(a.id),transient:!0})],exports.UploadModule);exports.UserVerificationModule=class _{constructor(t){this.id=t,this.connector=ut__default.default.of(this.id).get(d);}createSession(t){let o=p({},t);return n.tryFail(()=>r(this,null,function*(){let e=yield this.connector.post({path:s.CREATE_SESSION,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}sendSessionMedia(t){let o=p({},t);return n.tryFail(()=>r(this,null,function*(){let e=yield this.connector.post({path:s.SEND_SESSION_MEDIA,body:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}getSessionAttempts(){let t=l(s.SESSION_ATTEMPTS,null);return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:t});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getUserVerifications(){let t=l(s.USER_VERIFICATION,null);return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:t});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}};exports.UserVerificationModule=u([ut.Service({factory:a=>new exports.UserVerificationModule(a.id),transient:!0})],exports.UserVerificationModule);exports.WalletModule=class U{constructor(t,o){this.id=t,this.connector=ut__default.default.of(this.id).get(d),this.coin=o;}getTransactions(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.WALLET_TRANSACTIONS});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getATransaction(t){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:`${s.A_WALLET_TRANSACTION}/${t}`});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getTransactionStats(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.WALLET_STATS});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getAggregateTransactionStats(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.WALLET_AGGREGATE_STATS});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getWalletData(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.WALLET_AGGREGATE_STATS});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getWallets(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.WALLETS});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getSingleWallet(t){return n.tryFail(()=>r(this,null,function*(){let o=yield this.connector.get({path:s.SINGLE_WALLET+"/"+t});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getExchange(){return r(this,null,function*(){return n.tryFail(()=>r(this,null,function*(){let t=yield this.connector.get({path:s.WALLET_EXCHANGE});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))})}};exports.WalletModule=u([ut.Service({factory:a=>new exports.WalletModule(a.id,a.coin)})],exports.WalletModule);exports.WithdrawalModule=class v{constructor(t){this.id=t,this.connector=ut__default.default.of(this.id).get(d);}createWithdrawal(t){return n.tryFail(()=>r(this,null,function*(){let o=p({},t);return (yield this.connector.post({path:s.CREATE_WITHDRAWAL,body:o})).data}))}fetchWithdrawal(t){let o=l(s.FETCH_WITHDRAWALS,t);return n.tryFail(()=>r(this,null,function*(){let e=yield this.connector.get({path:o});if(Number(e.statusCode||e.code)>226||e.status==="ERROR")throw new Error(e.message);return e.data}))}};exports.WithdrawalModule=u([ut.Service({factory:a=>new exports.WithdrawalModule(a.id)})],exports.WithdrawalModule);exports.PaktSDK=class L{constructor(t){this.auth=ut.Container.of(t).get(exports.AuthenticationModule),this.collection=ut.Container.of(t).get(exports.CollectionModule),this.account=ut.Container.of(t).get(exports.AccountModule),this.notifications=ut.Container.of(t).get(exports.NotificationModule),this.file=ut.Container.of(t).get(exports.UploadModule),this.wallet=ut.Container.of(t).get(exports.WalletModule),this.withdrawal=ut.Container.of(t).get(exports.WithdrawalModule),this.review=ut.Container.of(t).get(exports.ReviewModule),this.bookmark=ut.Container.of(t).get(exports.BookMarkModule),this.userVerification=ut.Container.of(t).get(exports.UserVerificationModule),this.chat=ut.Container.of(t).get(exports.ChatModule),this.connectionFilter=ut.Container.of(t).get(exports.ConnectionFilterModule),this.invite=ut.Container.of(t).get(exports.InviteModule),this.feed=ut.Container.of(t).get(exports.FeedModule);}static init(t){return r(this,null,function*(){let o=p({},t),e=exports.PaktSDK.generateRandomString();return ut.Container.of(e).set(W,o),ut.Container.of(e).set(f,""),ut.Container.of(e).set(k,""),new exports.PaktSDK(e)})}static generateRandomString(){let t=J,o="";for(let e=0;e<60;e++)o+=t.charAt(Math.floor(Math.random()*t.length));return o}};exports.PaktSDK=u([ut.Service({transient:!0})],exports.PaktSDK);

exports.API_PATHS = s;
exports.AUTH_TOKEN = f;
exports.CHARACTERS = J;
exports.ErrorUtils = n;
exports.PAKT_CONFIG = W;
exports.Status = R;
exports.TEMP_TOKEN = k;
exports.parseUrlWithQuery = l;
