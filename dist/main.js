'use strict';

require('reflect-metadata');
var mt = require('typedi');
var nodeFetch = require('node-fetch');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var mt__default = /*#__PURE__*/_interopDefault(mt);

var J=Object.defineProperty,X=Object.defineProperties,z=Object.getOwnPropertyDescriptor,tt=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable;var $=(n,e,t)=>e in n?J(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,p=(n,e)=>{for(var t in e||(e={}))et.call(e,t)&&$(n,t,e[t]);if(H)for(var t of H(e))ot.call(e,t)&&$(n,t,e[t]);return n},E=(n,e)=>X(n,tt(e));var u=(n,e,t,r)=>{for(var o=r>1?void 0:r?z(e,t):e,c=n.length-1,l;c>=0;c--)(l=n[c])&&(o=(r?l(e,t,o):l(o))||o);return r&&o&&J(e,t,o),o};var s=(n,e,t)=>new Promise((r,o)=>{var c=D=>{try{x(t.next(D));}catch(f){o(f);}},l=D=>{try{x(t.throw(D));}catch(f){o(f);}},x=D=>D.done?r(D.value):Promise.resolve(D.value).then(c,l);x((t=t.apply(n,e)).next());});var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i={API_VERSION:"/v1",LOGIN:"/auth/login",REGISTER:"/auth/create-account",ACCOUNT_VERIFY:"/auth/account/verify",RESEND_VERIFY_LINK:"/auth/verify/resend",VALIDATE_PASSWORD_TOKEN:"/auth/validate/password",RESET_PASSWORD:"/auth/password/reset",CHANGE_PASSWORD:"/auth/password/change",VALIDATE_REFERRAL:"/auth/referral/validate/",COLLECTION:"/collection",COLLECTION_TYPE:"/collection-type",COLLECTION_MANY:"/collection/many",COLLECTION_UPDATE:"/collection",BOOKMARK:"/bookmark",NOTIFICATION_FETCH:"/notifications/",NOTIFICATION_MARK_ALL:"/notifications/mark/all",NOTIFICATION_MARK_ONE:"/notifications/mark",ACCOUNT:"/account",ACCOUNT_ONBOARD:"/account/onboard",ACCOUNT_UPDATE:"/account/update",ACCOUNT_PASSWORD:"/account/password/change",ACCOUNT_TWO_INIT:"/account/initiate/2fa",ACCOUNT_TWO_ACTIVATE:"/account/activate/2fa",ACCOUNT_TWO_DEACTIVATE:"/account/deactivate/2fa",ACCOUNT_FETCH_ALL:"/account/user",ACCOUNT_FETCH_SINGLE:"/account/user/",ACCOUNT_LOGOUT:"/account/logout",ACCOUNT_SEND_EMAIL_TWO_FA:"/account/2fa/email",WALLET_TRANSACTIONS:"/transaction/",A_WALLET_TRANSACTION:"/transaction",WALLET_EXCHANGE:"/wallet/exchange",WALLET_DATA:"/wallet/data",WALLET_STATS:"/wallet/stats",WALLET_AGGREGATE_STATS:"/wallet/aggregate/stats",WALLETS:"/wallet",SINGLE_WALLET:"/wallet/coin",FILE_UPLOAD:"/upload/",ADD_REVIEW:"/reviews/",GET_REVIEW:"/reviews/",CREATE_WITHDRAWAL:"/withdrawals/",FETCH_WITHDRAWALS:"/withdrawals/",CREATE_SESSION:"/user-verification/veriff/session/new",SEND_SESSION_MEDIA:"/user-verification/veriff/session/media",SESSION_ATTEMPTS:"/user-verification/veriff/session/attempts",USER_VERIFICATION:"/user-verification/user",DELETE_SESSION:"/user-verification/veriff/session/delete",GET_USER_MESSAGES:"/chat/",CREATE_CONNECTION_FILTER:"/conn-filter/",GET_CONNECTION_FILTER:"/conn-filter/user",UPDATE_CONNECTION_FILTER:"/conn-filter/",SEND_INVITE:"/invite/",ACCEPT_INVITE:"/invite",DECLINE_INVITE:"/invite",VIEW_ALL_INVITE:"/invite/",VIEW_A_INVITE:"/invite/",CANCEL_AN_INVITE:"/invite/",FEEDS:"/feeds",FEEDS_DISMISS_ONE:"/dismiss",FEEDS_DISMISS_ALL:"/feeds/dismiss/all"};var L=new mt.Token("PAKT_CONFIG"),M=new mt.Token("AUTH_TOKEN"),k=new mt.Token("TEMP_TOKEN"),Gt=n=>n==null||typeof n=="object"&&Object.keys(n).length===0||typeof n=="string"&&n===""&&n.trim().length===0||n==="undefined"||n==="null";var q="0.1.34";var g=(t=>(t.SUCCESS="SUCCESS",t.ERROR="ERROR",t))(g||{}),a={tryFail:n=>s(void 0,null,function*(){try{return {data:yield n(),status:"SUCCESS"}}catch(e){let t=a.toErrorWithMessage(e);return {data:null,status:"ERROR",message:t?t.message:["Internal Server Error"],code:t.code}}}),formatErrorMsg:n=>n.replace("attr.",""),toErrorWithMessage:n=>{var e;if(typeof n=="string")try{let t=JSON.parse(n);return t.data instanceof Array&&t.data.length>0?{message:t.data.map(r=>a.formatErrorMsg(r)),code:t.errorCode}:{message:[(e=t.message)!=null?e:n],code:t.errorCode}}catch(t){}if(a.isErrorWithMessage(n))return {message:[n.message]};try{return {message:[JSON.stringify(n,null,2)]}}catch(t){return {message:[String(n)]}}},isErrorWithMessage(n){return typeof n=="object"&&n!==null&&"message"in n&&typeof n.message=="string"}},m=(n,e)=>{let t="?";return Object.keys(e).map(r=>{t=t+`${r}=${e[r]}&`;}),n+t};var it=(n,e)=>import('node-fetch').then(({default:t})=>t(n,e)),d=class{constructor(e){this.id=e;}get(e){return s(this,null,function*(){return this.request(E(p({},e),{method:"GET"}))})}post(e){return s(this,null,function*(){return this.request(E(p({},e),{method:"POST"}))})}patch(e){return s(this,null,function*(){return this.request(E(p({},e),{method:"PATCH"}))})}put(e){return s(this,null,function*(){return this.request(E(p({},e),{method:"PUT"}))})}delete(e){return s(this,null,function*(){return this.request(E(p({},e),{method:"DELETE"}))})}request(D){return s(this,arguments,function*({path:e,params:t,body:r,method:o,authToken:c},l=0,x){let{verbose:f}=mt.Container.of(this.id).get(L),K=x||this.getUrl({path:e,params:t}),G={headers:yield this.headers(l,c),method:o,body:r?JSON.stringify(r):void 0},Y=Date.now();f&&console.debug(new Date().toISOString(),"SDK Request: ",G.method,K,G.body);try{return yield it(K,G).then(h=>s(this,null,function*(){let Q=Date.now()-Y;f&&console.log(new Date().toISOString(),`SDK Response received in ${Q}ms: `,h.status,yield h.clone().text());let Z=yield h.json();return E(p({},Z),{code:h.status})}))}catch(h){return f&&console.warn(new Date().toISOString(),"Error: ",h),Promise.reject(h)}})}getUrl({path:e,params:t}){let r=mt.Container.of(this.id).get(L),o=i.API_VERSION+e,c=new URL(o||"",r.baseUrl);return console.log(o,c),t&&Object.keys(t).filter(l=>!!t[l]).forEach(l=>c.searchParams.append(l,`${t[l]}`)),r.testnet&&c.searchParams.append("type","testnet"),c.toString()}headers(e,t){return s(this,null,function*(){let r={},o=mt.Container.of(this.id).get(L);t&&(r={Authorization:`Bearer ${t}`});let c=new nodeFetch.Headers(p({"Content-Type":"application/json","x-pkt-sdk-version":q,"x-pkt-sdk-product":"JS","x-pkt-testnet":`${o.testnet}`,"x-pkt-sdk-retry":`${e}`},r));return o.token&&c.append("x-api-key",o.token),c})}};d=u([mt.Service({factory:n=>new d(n.id),transient:!0})],d);exports.AccountModule=class C{constructor(e){this.id=e,this.connector=mt.Container.of(this.id).get(d);}getUser(e){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.ACCOUNT,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))})}onboardEndpoint(e,t,r,o){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let c={skillCategory:e,profileImage:t,type:r},l=yield this.connector.post({path:i.ACCOUNT_ONBOARD,body:c,authToken:o});if(Number(l.statusCode||l.code)>226||l.status==="ERROR")throw new Error(l.message);return l.data}))})}updateAccount(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){p({},e);let o=yield this.connector.patch({path:i.ACCOUNT_UPDATE,body:e,authToken:t});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}changePassword(e,t,r){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let o={oldPassword:e,newPassword:t},c=yield this.connector.put({path:i.ACCOUNT_PASSWORD,body:o,authToken:r});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))})}initate2FA(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r={type:e},o=yield this.connector.post({path:i.ACCOUNT_PASSWORD,body:r,authToken:t});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}activate2FA(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r={code:e},o=yield this.connector.post({path:i.ACCOUNT_TWO_ACTIVATE,body:r,authToken:t});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}deactivate2FA(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r={code:e},o=yield this.connector.post({path:i.ACCOUNT_TWO_DEACTIVATE,body:r,authToken:t});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}sendEmailTwoFA(e){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.post({path:i.ACCOUNT_SEND_EMAIL_TWO_FA,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))})}getAUser(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${i.ACCOUNT_FETCH_SINGLE}${e}`,authToken:t});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))})}getUsers(e,t){return s(this,null,function*(){if(t){let r=m(i.ACCOUNT_FETCH_ALL,p({},t));return a.tryFail(()=>s(this,null,function*(){let o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:i.ACCOUNT_FETCH_ALL});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))})}logout(e){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){return (yield this.connector.post({path:i.ACCOUNT_LOGOUT,authToken:e})).data}))})}};exports.AccountModule=u([mt.Service({factory:n=>new exports.AccountModule(n.id),transient:!0})],exports.AccountModule);exports.AuthenticationModule=class T{constructor(e){this.id=e,this.connector=mt.Container.of(this.id).get(d);}login(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r={email:e,password:t},o=yield this.connector.post({path:i.LOGIN,body:r});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data.tempToken?mt.Container.of(this.id).set(k,o.data.tempToken.token):mt.Container.of(this.id).set(M,o.data.token),o.data}))})}register(e){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let t=p({},e),r=yield this.connector.post({path:i.REGISTER,body:t});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data.tempToken.token&&mt.Container.of(this.id).set(k,r.data.tempToken.token),r.data}))})}verifyAccount(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r={tempToken:e,token:t},o=yield this.connector.post({path:i.ACCOUNT_VERIFY,body:r});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return mt.Container.of(this.id).set(M,o.data.token),o.data}))})}resendVerifyLink(e){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let t={email:e},r=yield this.connector.post({path:i.RESEND_VERIFY_LINK,body:t});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data.tempToken&&mt.Container.of(this.id).set(k,r.data.tempToken.token),r.data}))})}resetPassword(e){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let t={email:e},r=yield this.connector.post({path:i.RESET_PASSWORD,body:t});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))})}changePassword(e,t,r){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let o={token:e,tempToken:t,password:r},c=yield this.connector.post({path:i.CHANGE_PASSWORD,body:o});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))})}validatePasswordToken(e,t){return a.tryFail(()=>s(this,null,function*(){let r={token:e,tempToken:t},o=yield this.connector.post({path:`${i.VALIDATE_PASSWORD_TOKEN}/${e}`,body:r});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}validateReferral(e){return a.tryFail(()=>s(this,null,function*(){let t={token:e},r=yield this.connector.post({path:`${i.VALIDATE_REFERRAL}`,body:t});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}};exports.AuthenticationModule=u([mt.Service({factory:n=>new exports.AuthenticationModule(n.id),transient:!0})],exports.AuthenticationModule);var dt=(o=>(o.FEED="feed",o.COLLECTION="collection",o.INVITE="invite",o.USER="user",o))(dt||{});exports.BookMarkModule=class y{constructor(e){this.id=e,this.connector=mt.Container.of(this.id).get(d);}getAll(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=m(i.BOOKMARK,t),o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}getById(e,t,r){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let o=m(i.BOOKMARK+"/"+t,r),c=yield this.connector.get({path:o,authToken:e});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))})}create(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=p({},t),o=yield this.connector.post({path:i.BOOKMARK,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}delete(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.delete({path:i.BOOKMARK+"/"+t,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))})}};exports.BookMarkModule=u([mt.Service({factory:n=>new exports.BookMarkModule(n.id),transient:!0})],exports.BookMarkModule);exports.ChatModule=class A{constructor(e){this.id=e,this.connector=mt__default.default.of(this.id).get(d);}getUserMessages(e){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.GET_USER_MESSAGES,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}};exports.ChatModule=u([mt.Service({factory:n=>new exports.ChatModule(n.id),transient:!0})],exports.ChatModule);exports.CollectionModule=class w{constructor(e){this.id=e,this.connector=mt.Container.of(this.id).get(d);}getAll(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=m(`${i.COLLECTION}/`,t),o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}getById(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=i.COLLECTION+"/"+t,o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}getTypes(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=m(i.COLLECTION_TYPE,t),o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}create(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=p({},t),o=yield this.connector.post({path:i.COLLECTION,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}createMany(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=p({},t),o=yield this.connector.post({path:i.COLLECTION,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}updateCollection(e,t,r){return a.tryFail(()=>s(this,null,function*(){let o=`${i.COLLECTION_UPDATE}/${t}`,c=p({},r),l=yield this.connector.patch({path:o,body:c,authToken:e});if(Number(l.statusCode||l.code)>226||l.status==="ERROR")throw new Error(l.message);return l.data}))}getACollectionType(e,t){return a.tryFail(()=>s(this,null,function*(){let r=m(`${i.COLLECTION_TYPE}/${t}`,{id:t}),o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}deleteACollection(e,t){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.delete({path:`${i.COLLECTION}/${t}`,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}updateManyCollections(e,t){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.patch({path:`${i.COLLECTION}/many/update`,body:{collections:t},authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}};exports.CollectionModule=u([mt.Service({factory:n=>new exports.CollectionModule(n.id),transient:!0})],exports.CollectionModule);exports.ConnectionFilterModule=class I{constructor(e){this.id=e,this.connector=mt__default.default.of(this.id).get(d);}create(e,t){return a.tryFail(()=>s(this,null,function*(){let r=p({},t),o=yield this.connector.post({path:i.CREATE_CONNECTION_FILTER,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}update(e,t){return a.tryFail(()=>s(this,null,function*(){let r=p({},t),o=yield this.connector.patch({path:i.UPDATE_CONNECTION_FILTER,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getForAUser(e){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.GET_CONNECTION_FILTER,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}};exports.ConnectionFilterModule=u([mt.Service({factory:n=>new exports.ConnectionFilterModule(n.id),transient:!0})],exports.ConnectionFilterModule);exports.FeedModule=class O{constructor(e){this.id=e,this.connector=mt.Container.of(this.id).get(d);}create(e,t){return a.tryFail(()=>s(this,null,function*(){let r=p({},t),o=yield this.connector.post({path:`${i.FEEDS}/`,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getAll(e,t){return a.tryFail(()=>s(this,null,function*(){let r=t?E(p({},t),{isOwner:!0}):{isOwner:!0},o=m(`${i.FEEDS}/`,p({},r)),c=yield this.connector.get({path:o,authToken:e});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))}getById(e,t){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${i.FEEDS}/${t}`,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}dismissAllFeeds(e){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.put({path:`${i.FEEDS_DISMISS_ALL}`,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}dismissAFeed(e,t){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.put({path:`${i.FEEDS}/${t}/dismiss`,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}};exports.FeedModule=u([mt.Service({factory:n=>new exports.FeedModule(n.id),transient:!0})],exports.FeedModule);exports.InviteModule=class N{constructor(e){this.id=e,this.connector=mt__default.default.of(this.id).get(d);}sendInvite(e,t){return a.tryFail(()=>s(this,null,function*(){let r=`${i.SEND_INVITE}`,o=p({},t),c=yield this.connector.post({path:r,body:o,authToken:e});if(Number(c.statusCode||c.code)>226||c.status==="ERROR")throw new Error(c.message);return c.data}))}acceptInvite(e,t){return a.tryFail(()=>s(this,null,function*(){let r=`${i.ACCEPT_INVITE}/${t}/accept`,o=yield this.connector.post({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}declineInvite(e,t){return a.tryFail(()=>s(this,null,function*(){let r=`${i.DECLINE_INVITE}/${t}/decline`,o=yield this.connector.post({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getAll(e,t){return a.tryFail(()=>s(this,null,function*(){let r=m(i.VIEW_ALL_INVITE,t),o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getAnInvite(e,t){return a.tryFail(()=>s(this,null,function*(){let r=`${i.VIEW_A_INVITE}/${t}`,o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}cancelInvite(e,t){return a.tryFail(()=>s(this,null,function*(){let r=`${i.CANCEL_AN_INVITE}/${t}/cancel`,o=yield this.connector.post({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}};exports.InviteModule=u([mt.Service({factory:n=>new exports.InviteModule(n.id),transient:!0})],exports.InviteModule);exports.NotificationModule=class S{constructor(e){this.id=e,this.connector=mt.Container.of(this.id).get(d);}getAll(e,t){return s(this,null,function*(){let r=m(i.NOTIFICATION_FETCH,t);return a.tryFail(()=>s(this,null,function*(){let o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))})}markAll(e){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.post({path:i.NOTIFICATION_MARK_ALL,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))})}markOneAsRead(e,t){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.post({path:i.NOTIFICATION_MARK_ONE+"/"+t,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))})}};exports.NotificationModule=u([mt.Service({factory:n=>new exports.NotificationModule(n.id),transient:!0})],exports.NotificationModule);exports.ReviewModule=class P{constructor(e){this.id=e,this.connector=mt__default.default.of(this.id).get(d);}viewAll(e,t){return a.tryFail(()=>s(this,null,function*(){let r=m(i.GET_REVIEW,t),o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}viewAReview(e,t){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${i.GET_REVIEW}${t}`,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}addReview(e,t){let r=p({},t);return a.tryFail(()=>s(this,null,function*(){let o=yield this.connector.post({path:i.ADD_REVIEW,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}};exports.ReviewModule=u([mt.Service({factory:n=>new exports.ReviewModule(n.id),transient:!0})],exports.ReviewModule);exports.UploadModule=class F{constructor(e){this.id=e,this.connector=mt__default.default.of(this.id).get(d);}fileUpload(e,t){let r=p({},t);return a.tryFail(()=>s(this,null,function*(){let o=yield this.connector.post({path:i.FILE_UPLOAD,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getFileUploads(e,t){return a.tryFail(()=>s(this,null,function*(){let r=t||{},o=m(i.FILE_UPLOAD,r),c=t?i.FILE_UPLOAD:o,l=yield this.connector.get({path:c,authToken:e});if(Number(l.statusCode||l.code)>226||l.status==="ERROR")throw new Error(l.message);return l.data}))}getAFileUpload(e,t){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${i.FILE_UPLOAD}${t}`,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}};exports.UploadModule=u([mt.Service({factory:n=>new exports.UploadModule(n.id),transient:!0})],exports.UploadModule);exports.UserVerificationModule=class _{constructor(e){this.id=e,this.connector=mt__default.default.of(this.id).get(d);}createSession(e,t){let r=p({},t);return a.tryFail(()=>s(this,null,function*(){let o=yield this.connector.post({path:i.CREATE_SESSION,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}sendSessionMedia(e,t){let r=p({},t);return a.tryFail(()=>s(this,null,function*(){let o=yield this.connector.post({path:i.SEND_SESSION_MEDIA,body:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}getSessionAttempts(e){let t=m(i.SESSION_ATTEMPTS,null);return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:t,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}getUserVerifications(e){let t=m(i.USER_VERIFICATION,null);return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:t,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}};exports.UserVerificationModule=u([mt.Service({factory:n=>new exports.UserVerificationModule(n.id),transient:!0})],exports.UserVerificationModule);exports.WalletModule=class U{constructor(e,t){this.id=e,this.connector=mt__default.default.of(this.id).get(d),this.coin=t;}getTransactions(e){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.WALLET_TRANSACTIONS,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getATransaction(e,t){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:`${i.A_WALLET_TRANSACTION}/${t}`,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}getTransactionStats(e){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.WALLET_STATS,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getAggregateTransactionStats(e){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.WALLET_AGGREGATE_STATS,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getWalletData(e){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.WALLET_AGGREGATE_STATS,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getWallets(e){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.WALLETS,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))}getSingleWallet(e,t){return a.tryFail(()=>s(this,null,function*(){let r=yield this.connector.get({path:i.SINGLE_WALLET+"/"+t,authToken:e});if(Number(r.statusCode||r.code)>226||r.status==="ERROR")throw new Error(r.message);return r.data}))}getExchange(e){return s(this,null,function*(){return a.tryFail(()=>s(this,null,function*(){let t=yield this.connector.get({path:i.WALLET_EXCHANGE,authToken:e});if(Number(t.statusCode||t.code)>226||t.status==="ERROR")throw new Error(t.message);return t.data}))})}};exports.WalletModule=u([mt.Service({factory:n=>new exports.WalletModule(n.id,n.coin)})],exports.WalletModule);exports.WithdrawalModule=class b{constructor(e){this.id=e,this.connector=mt__default.default.of(this.id).get(d);}createWithdrawal(e,t){return a.tryFail(()=>s(this,null,function*(){let r=p({},t);return (yield this.connector.post({path:i.CREATE_WITHDRAWAL,body:r,authToken:e})).data}))}fetchWithdrawal(e,t){let r=m(i.FETCH_WITHDRAWALS,t);return a.tryFail(()=>s(this,null,function*(){let o=yield this.connector.get({path:r,authToken:e});if(Number(o.statusCode||o.code)>226||o.status==="ERROR")throw new Error(o.message);return o.data}))}};exports.WithdrawalModule=u([mt.Service({factory:n=>new exports.WithdrawalModule(n.id)})],exports.WithdrawalModule);exports.PaktSDK=class v{constructor(e){this.auth=mt.Container.of(e).get(exports.AuthenticationModule),this.collection=mt.Container.of(e).get(exports.CollectionModule),this.account=mt.Container.of(e).get(exports.AccountModule),this.notifications=mt.Container.of(e).get(exports.NotificationModule),this.file=mt.Container.of(e).get(exports.UploadModule),this.wallet=mt.Container.of(e).get(exports.WalletModule),this.withdrawal=mt.Container.of(e).get(exports.WithdrawalModule),this.review=mt.Container.of(e).get(exports.ReviewModule),this.bookmark=mt.Container.of(e).get(exports.BookMarkModule),this.userVerification=mt.Container.of(e).get(exports.UserVerificationModule),this.chat=mt.Container.of(e).get(exports.ChatModule),this.connectionFilter=mt.Container.of(e).get(exports.ConnectionFilterModule),this.invite=mt.Container.of(e).get(exports.InviteModule),this.feed=mt.Container.of(e).get(exports.FeedModule);}static init(e){return s(this,null,function*(){let t=p({},e),r=exports.PaktSDK.generateRandomString();return mt.Container.of(r).set(L,t),mt.Container.of(r).set(M,""),mt.Container.of(r).set(k,""),new exports.PaktSDK(r)})}static generateRandomString(){let e=j,t="";for(let r=0;r<60;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}};exports.PaktSDK=u([mt.Service({transient:!0})],exports.PaktSDK);

exports.API_PATHS = i;
exports.AUTH_TOKEN = M;
exports.BookmarkEnumType = dt;
exports.CHARACTERS = j;
exports.ErrorUtils = a;
exports.PAKT_CONFIG = L;
exports.Status = g;
exports.TEMP_TOKEN = k;
exports.isEmpty = Gt;
exports.parseUrlWithQuery = m;
